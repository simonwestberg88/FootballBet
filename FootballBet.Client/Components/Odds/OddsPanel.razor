@using FootballBet.Shared.Models.Odds
<MudThemeProvider @bind-IsDarkMode="@_isDarkMode" Theme="_theme"/>
<MudPaper Style="display: flex; flex-direction: row; margin-bottom: 15px" Elevation="0">
    <MudPaper Style="width: 50%;">
        <MudText Align="Align.Center">Base</MudText>
    </MudPaper>
    <MudPaper Style="@($"background:{_theme.PaletteDark.Secondary}; width: 50%")">
        <MudText Align="Align.Center">@Odds.OrderBy(o => o.Odds).FirstOrDefault().Odds</MudText>
    </MudPaper>
</MudPaper>
@foreach (var odd in Odds.OrderBy(o => o.Odds).Skip(1))
{
    <MudPaper Style="display: flex; flex-direction: row; margin-bottom: 15px" Elevation="0">
        <MudPaper Style="width: 50%;">
            <MudText Align="Align.Center">@odd.HomeTeamGoals - @odd.AwayTeamGoals</MudText>
        </MudPaper>
        <MudPaper Style="@($"background:{_theme.PaletteDark.Secondary}; width: 50%")">
            <MudText Align="Align.Center">@odd.Odds</MudText>
        </MudPaper>
    </MudPaper>
}

@code {

    [Parameter]
    public List<OddsDto>? Odds { get; set; }

    [Parameter]
    public string? PanelText { get; set; }

    private bool _isDarkMode = true;
    private readonly MudTheme _theme = new();
    private bool _isFirst = true;

    private bool SetIsFirst()
    {
        if (!_isFirst) return false;
        _isFirst = false;
        return true;
    }

}